<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <style type="text/css">
  body {
  	max-width: 20cm;
  	margin-left: auto;
  	margin-right: auto;
  	text-align: justify;
  }
  @media screen {
  	body {
  		font-family: sans;
  	}
  }
  @media print {
  	body {
  		font-family: serif;
  	}
  }
  
  h1, h2, h3, h4, h5, h6 {
  	font-family: sans;
  }
  
  h1 {
  	text-align: center;
  	border-bottom: 2px solid gray;
  }
  
  h2 {
  	margin-top: 1cm;
  	border-bottom: 2px dotted gray;
  }
  
  blockquote {
  	background-color: #fbfbfb;
  	padding: 0.3cm;
  	border-radius: 0.2cm;
  	border-color: blue;
  	border-style: solid;
  	border-width: 2px;
  	margin-left: 0;
  	margin-right: 0;
  	font-style: italic;
  }
  
  code {
  	font-size: 125%;
  }
  
  pre.sourceCode {
  	background-color: #fbfbfb;
  	padding: 0.3cm;
  	border-radius: 0.2cm;
  	border-color: green;
  	border-style: solid;
  	border-width: 2px;
  }
  
  pre.output {
  	background-color: #fbfbfb;
  	padding: 0.3cm;
  	border-radius: 0.2cm;
  	border-color: blue;
  	border-style: solid;
  	border-width: 2px;
  }
  
  a.footnoteRef {
  	text-decoration: none;
  	color: blue;
  }
  
  figure > img {
  	width: 100%;
  	height: auto;
  }
  
  section.license {
  	font-size: 90%;
  	color: gray;
  }
  
  section.license > a {
  	color: gray;
  }
  
  </style>
</head>
<body>
<h1 id="datatypes">Datatypes</h1>
<p>In this chapter we will write a simple text-game in which we will visit a deep dungeon to search for great treasures and to fight evil monsters and even more evil competitors. Along the way we will learn how to create our very own datatypes and also make ourselves familiar with some further stdlib-functionality.</p>
<h2 id="preparing-the-loot-enums-and-structs">Preparing the Loot: Enums and Structs</h2>
<p>Starting with the creation of a player is boring, if we could instead be creating our freakingly-huge-sword-of-doom, so let's get to the loot first!</p>
<p>In our dungeon we expect four kinds of loot: Armor, weapons, jewelry and junk. We could now use an integer and some global constants to anotate what each item is, but the nice thing is that C++ already provides this in a more convenient way as a so called enum:</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">enum</span> <span class="kw">class</span> item_kind {
	armor,
	weapon,
	jewelry,
	junk
};

std::string to_string(<span class="dt">const</span> item_kind&amp; kind) {
	<span class="kw">if</span> (kind == item_kind::armor) {
		<span class="kw">return</span> <span class="st">&quot;armor&quot;</span>;
	} <span class="kw">else</span> <span class="kw">if</span> (kind == item_kind::weapon) {
		<span class="kw">return</span> <span class="st">&quot;weapon&quot;</span>;
	} <span class="kw">else</span> <span class="kw">if</span> (kind == item_kind::jewelry) {
		<span class="kw">return</span> <span class="st">&quot;jewelry&quot;</span>;
	} <span class="kw">else</span> <span class="kw">if</span> (kind == item_kind::junk) {
		<span class="kw">return</span> <span class="st">&quot;junk&quot;</span>;
	} <span class="kw">else</span> {
		std::cerr &lt;&lt; <span class="st">&quot;This should never happen!</span><span class="ch">\n</span><span class="st">&quot;</span>;
		std::terminate();
	}
}

<span class="dt">int</span> main() {
	<span class="dt">const</span> <span class="kw">auto</span> find_1 = item_kind::armor;
	<span class="dt">const</span> <span class="kw">auto</span> find_2 = item_kind::junk;
	std::cout &lt;&lt; <span class="st">&quot;Our first find is &quot;</span> &lt;&lt; to_string(find_1)
		&lt;&lt; <span class="st">&quot;, our second find is&quot;</span> &lt;&lt; to_string(find_2) &lt;&lt; <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>;
}</code></pre>
<p>The advantage of this approach over integer-constants is that we have our own type, which, among other things, implies that we can overload functions for it and, that it became harder to accidentially use a different integer that was supposed to mean something else where we wanted to know what kind of item our find is.</p>
<p>To show a real-live situation where types are used, we don't need to look far: From the first grade on pupils are forced by their teachers and parents to not throw away things like meters, seconds, liters, … when doing exercises for school and get ask questions like: “Three what? <a href="https://en.wikipedia.org/wiki/Bratwurst">Bratwürste</a>?” (Or at least the author of this text got this question). The reasoning is again that keeping this kind of information can easily expose a lot of errors in the used formulas or during calculation.</p>
<p>An dramatic example for what can happen if you do not use types is the <a href="https://en.wikipedia.org/wiki/Mars_Climate_Orbiter">Mars Climate Orbiter</a>: It got to close to the surface because one module incorrectly produced results in imperial measures, while another one expected those to be in a sane (=metric) unit-system. The lessons from this incident are:</p>
<ul>
<li>Never use the imperial system and allways use the metric system</li>
<li>Do your calculations with units, as you learned in first grade.</li>
</ul>
<p>Now, back to our loot: We want to be able to add further information too it, so that we can have different kinds of it.</p>
<hr/>
<section class="license">
	<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
		<img src="CC_BY_SA.png" height="31px" width="88px" alt="CC-BY-SA" align="left" hspace="2px"/>
	</a>
	This work from Florian Weber is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.<br/>
</section>
</body>
</html>
